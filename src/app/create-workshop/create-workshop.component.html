<div class="row topNavbar fixed-top">
  <div class="col-md-3 py-3">
    <img routerLink="/home" src="/assets/imgs/MerekaLogo.png" class="pointer ml-4">
  </div>
  <div class="col-md-9 text-right">
    <button (click)="navigatePage(btn.navigatePage)" *ngFor="let btn of tabButtons"
      [class.activeBtn]="activeTab===btn.title" class="btn btn-inactive grayChoiceHover">{{btn.title}}</button>
  </div>
</div>

<div class="parentContent bg-white">
  <div class="row justify-content-center">
    <div class="col-md-12 maxWidthContent">
      <h3 class="bold my-3 text-center">Let's Get Started</h3>
      <div class="borderdSection p-4 mt-4">
        <div class="row">
          <div class="col-md-12">
            <p>Type of Experience
              <i *ngIf="expandTypeofExperience" (click)="expandTypeofExperience=false"
                class="fas fa-angle-up float-right pointer"></i>
              <i *ngIf="!expandTypeofExperience" (click)="expandTypeofExperience=true"
                class="fas fa-angle-down float-right pointer"></i>
            </p>
          </div>
        </div>
        <div *ngIf="expandTypeofExperience" class="row">
          <div class="col-md-7">
            <div class="leftContent">
              <h5 class="bold">Are you hosting your experience physically or online?</h5>
              <p class="text-secondary w-75">Online experiences can be hosted from anywhere via video,
                whereas physical experiences must be conducted in one of our partner hubs.
              </p>
              <div *ngIf="myWorkshopObj.experienceType==='online'" class="toggleBtnContainer d-flex p-1">
                <i (click)="myWorkshopObj.experienceType='physical'" class="fas fa-running pointer soloIcon"></i>
                <button class="btn btn-dark btn-sm blackBgBtn">
                  <i class="fas fa-desktop"></i> Online
                </button>
              </div>
              <div *ngIf="myWorkshopObj.experienceType==='physical'" class="toggleBtnContainer d-flex p-1">
                <button class="btn btn-dark btn-sm blackBgBtn">
                  <i class="fas fa-running"></i> Physical
                </button>
                <i (click)="myWorkshopObj.experienceType='online'" class="fas fa-desktop pointer soloIcon"></i>
              </div>
            </div>
          </div>
          <div class="col-md-5 pl-5">
            <h5 class="bold">
              <img style="width: 35px;" src="/assets/imgs/light-icon.png">
              <span class="pl-2">TIPS</span>
            </h5>
            <p>
              Physically: Learners will join you in one of our partnet hubs, for hands-on participation.
            </p>
            <p>
              Online: Learners will join you virtually, using Zoom video conferencing software.
            </p>
          </div>
        </div>
      </div>

      <div class="borderdSection p-4 mt-4">
        <div class="row">
          <div class="col-md-12">
            <p>Category of Experience
              <i *ngIf="expandCategoryofExperience" (click)="expandCategoryofExperience=false"
                class="fas fa-angle-up float-right pointer"></i>
              <i *ngIf="!expandCategoryofExperience" (click)="expandCategoryofExperience=true"
                class="fas fa-angle-down float-right pointer"></i>
            </p>
          </div>
        </div>
        <div *ngIf="expandCategoryofExperience" class="row">
          <div class="col-md-12">
            <h5 class="bold">What type of experience will you offer?</h5>
            <p class="text-secondary">
              A workshop is a hands-on, inactive experience which often involves group activities;
              it could be based on an educational or socially significant topic. A talk is an experience
              which offers an expert's insight into a subject. A class is a one-time, expert-led session
              on a particular topic. A class is usually a subset of a larger educational module, hence,
              a course refers to a series of classes. A program is a combination of classes, workshops
              and talks, sometimes consisting of pitches or mentorship as well.
            </p>
            <div class="d-flex">
              <div *ngFor="let category of allCategories" (click)="myWorkshopObj.experienceCategory=category"
                [class.selected]="myWorkshopObj.experienceCategory===category"
                class="innerBlock text-center p-4 pointer whiteOutlinedBtn">
                <p class="bold m-0">{{category | titlecase}}
                  <i *ngIf="myWorkshopObj.experienceCategory===category" class="fas fa-check"></i>
                </p>
              </div>
            </div>
            <hr class="my-4" />

            <h5 class="bold">What is the theme of your experience?</h5>
            <p class="text-secondary">
              Select a category that best describes what learners will mainly be doing in your experience.
              This will help them to search for and book your experience.
            </p>

            <div class="row">
              <div [class.d-none]="!theme.isActive" *ngFor="let theme of dataHelper.workshopCategories" class="col-md-3 mb-3 pl-0">
                <div (click)="myWorkshopObj.theme=theme.name" [class.selected]="myWorkshopObj.theme===theme.name"
                  class="innerBlock text-center p-4 pointer whiteOutlinedBtn w-100">
                  <p class="bold m-0">{{theme.name | titlecase}}
                    <i *ngIf="myWorkshopObj.theme===theme.name" class="fas fa-check"></i>
                  </p>
                </div>
              </div>
            </div>
            <hr class="my-4" />

            <div class="skillInputSection">
              <h4 class="bold mt-3">Create additional search tags for your experience.</h4>
              <p class="text-secondary">Add the tags which best describe your experience.</p>
              <button *ngFor="let tag of myWorkshopObj.tags; index as i"
                class="btn btnRounded btn-light border px-4 mr-3">
                {{tag}} <i (click)="removeTag(i)" class="fa fa-trash ml-2"></i>
              </button>
              <input [(ngModel)]="newTag" style="width: 150px;" type="text" placeholder="Type tags"
                class="form-control btnRounded mr-3 d-inline">
              <img (click)="addNewTag()" class="pointer" src="/assets/imgs/addIcon.svg">
            </div>
          </div>
        </div>
      </div>

      <div class="borderdSection p-4 mt-4">
        <div class="row">
          <div class="col-md-12">
            <p>Location
              <i *ngIf="expandLocation" (click)="expandLocation=false" class="fas fa-angle-up float-right pointer"></i>
              <i *ngIf="!expandLocation" (click)="expandLocation=true"
                class="fas fa-angle-down float-right pointer"></i>
            </p>
          </div>
        </div>
        <div *ngIf="expandLocation" class="row locationBlock">
          <div class="col-md-7 leftContent">
            <h5 class="bold">Share with us the Address of your Hub</h5>
            <p class="text-secondary">Please indicate clearly where your Hub is based. This section is mandatory so that your learners can find you.
            </p>

            <div class="custom-control custom-radio pointer mb-2">
              <input [(ngModel)]="myWorkshopObj.isLocationFromHub" (change)="updateLocation()" type="radio"
                class="custom-control-input" id="customRadio1" name="example1" [value]="true">
              <label class="custom-control-label" for="customRadio1">
                Autofill the location from existing Hub details</label>
            </div>
            <div class="custom-control custom-radio pointer">
              <input [(ngModel)]="myWorkshopObj.isLocationFromHub" (change)="updateLocation()" type="radio"
                class="custom-control-input" id="customRadio2" name="example1" [value]="false">
              <label class="custom-control-label" for="customRadio2">
                Type in a different address</label>
            </div>

            <div class="formContent row mt-4">
              <div class="col-md-1"></div>
              <div class="col-md-8 pl-0">
                <div class="form-group">
                  <label>Country/Region</label>
                  <ng-select [clearable]="false" [items]="dataHelper.countries"
                    [(ngModel)]="myWorkshopObj.location.country" placeholder="Choose Country">
                  </ng-select>
                </div>
                <div class="form-group">
                  <label>Location</label>
                  <ngxgeo-autocomplete id="autoComplete" [userSettings]="userSettings"
                    (componentCallback)="autoCompleteCallback($event)">
                  </ngxgeo-autocomplete>
                </div>
                <div class="form-group">
                  <label class="mt-3">Street Address</label>
                  <input [(ngModel)]="myWorkshopObj.location.streetAddress" type="text" class="form-control"
                    placeholder="Street Address">
                </div>
                <div class="form-group">
                  <label>City</label>
                  <input [(ngModel)]="myWorkshopObj.location.city" type="text" class="form-control"
                    placeholder="City Name">
                </div>
                <div class="form-group">
                  <label>State</label>
                  <input [(ngModel)]="myWorkshopObj.location.state" type="text" class="form-control"
                    placeholder="State">
                </div>
              </div>
              <div class="col-md-3">
                <div style="position: absolute; bottom: 0; width: 80%;" class="form-group">
                  <label>Postcode</label>
                  <input autocomplete="off" [(ngModel)]="myWorkshopObj.location.postcode" type="text"
                    class="form-control" placeholder="Post Code">
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-5 pl-5">
            <h5 class="bold">
              <img style="width: 35px;" src="/assets/imgs/light-icon.png">
              <span class="pl-2">PIN IT</span>
            </h5>
            <p  class="bold">Is this pinned to the correct location?</p>
            <agm-map *ngIf="displayMap" #gm style="width: 100%; height: 530px;" [zoom]="13"
              (mapClick)="mapClicked($event)" [latitude]="myWorkshopObj.location.lat"
              [longitude]="myWorkshopObj.location.lng">
              <agm-marker [latitude]="myWorkshopObj.location.lat" [longitude]="myWorkshopObj.location.lng">
                <agm-info-window>{{myWorkshopObj.location.location}}</agm-info-window>
              </agm-marker>
            </agm-map>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row fixed-bottom p-3 px-4 continueBackBtns">
  <div class="col-md-4">
    <button routerLink="/add-service" class="btn grayChoiceHover btn-light btnRounded">Back</button>
  </div>
  <div class="col-md-4 text-center">
    <button (click)="dataHelper.saveWorkshopAsDraft()" class="btn grayChoiceHover btnSecondary btnRounded">Save
      Draft</button>
  </div>
  <div class="col-md-4 text-right">
    <button (click)="saveAndNext()" class="btn grayChoiceHover btnSecondary btnRounded">Continue</button>
  </div>
</div>