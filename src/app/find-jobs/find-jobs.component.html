<ngx-loading [show]="loading"></ngx-loading>

<app-navbar></app-navbar>

<div class="pagesLog">
  <img src="/assets/imgs/M-Logo.PNG" height="25px">
  <i class="fas fa-chevron-right lightGray px-3"></i>
  <p class="bold my-0">Browse</p>
</div>

<div class="row justify-content-center mainCont">
  <div class="col-sm-10">
    <div class="row">

      <div class="col-sm-3 pl-0 pr-4">
        <h3 class="bold mb-3 pt-1">Find Work</h3>
        <h6 class="filterTitle mb-3 active">All Jobs</h6>
        <!-- <div class="filterItemCont">
          <div class="d-flex">
            <div class="ovalicon"></div>
            <p class="mb-0">Shortlisted</p>
          </div>
        </div> -->
        <h6 class="filterTitle">Categories</h6>
        <div class="filterItemCont">
          <p [class.bold]="selectedFilters.category===category" (click)="applySideFilters('category', category)"
            *ngFor="let category of allCategories" class="pointer mb-2">{{category}}
          </p>
        </div>
        <!-- <h6 class="filterTitle">Type</h6>
        <div class="filterItemCont">
          <p class="mb-2">Expert</p>
          <p class="mb-2">Hub</p>
          <p class="mb-2">Expert and Hub</p>
          <p class="mb-2">Workshops</p>
          <p class="mb-2">Machines</p>
        </div> -->
        <h6 class="filterTitle">Location</h6>
        <div class="filterItemCont">
          <p [class.bold]="selectedFilters.location===location" (click)="applySideFilters('location', location)"
            *ngFor="let location of allLocations" class="pointer mb-2">{{location}}</p>
        </div>
        <h6 class="filterTitle">Language</h6>
        <div class="filterItemCont">
          <p [class.bold]="selectedFilters.language===language" (click)="applySideFilters('language', language)"
            *ngFor="let language of allLanguages" class="pointer mb-2">{{language}}</p>
        </div>
      </div>

      <div class="col-sm-9 pr-0">
        <div class="searchBar align-center mb-3">
          <i class="fas fa-search pointer"></i>
          <input [(ngModel)]="searchValue" type="text" placeholder="Find Job by Name/Type" class="form-control">
        </div>

        <ul class="nav customFilters">
          <li *ngFor="let filter of jobFilters; index as i" class="nav-item">
            <a data-toggle="dropdown" class="dropdown nav-link" [class.active]="isActiveFilter(i)">
              {{filter.title}} <i class="fas pl-2 fa-chevron-down"></i></a>
            <div class="dropdown-menu dropdown-menu-right shadow">
              <a (click)="applyNavbarFilters(fil); filter.title = fil.display" *ngFor="let fil of filter.filters"
                class="dropdown-item pointer">{{fil.display}}</a>
            </div>
          </li>
        </ul>

        <div class="tab-content" id="myTabContent">
          <div class="tab-pane active" id="locations" role="tabpanel" aria-labelledby="locations-tab">
            <div class="card jobCont">
              <div class="titleCont">
                <div class="txt">
                  <h4 class="mb-1 bold">Jobs</h4>
                  <p class="font-15 text1 mb-0">Jobs posted this month</p>
                </div>
              </div>

              <p *ngIf="!displayJobList.length" class="text-center text-secondary py-5">No jobs found!</p>

              <div *ngFor="let job of displayJobList | search:searchValue:searchFields" (click)="jobDetails(job)"
                class="row jobCard">
                <div class="col-sm-12 px-4">
                  <div class="row">
                    <div class="col-sm-3 pl-0">
                      <img [src]="getJobImage(job)" class="jobImg">
                    </div>
                    <div class="col-sm-6 pl-1 pr-0 jobDetailsCont">
                      <h5 class="bold mb-2 jobTitle">{{job.jobTitle}}</h5>
                      <p class="jobDescp">{{job.description}}</p>
                      <p class="font-13 mt-2 bold">Bids: {{job.bids?.length || 0}}</p>
                      <div class="d-flex">
                        <div class="iconCont">
                          <img src="/assets/imgs/Oval2.svg" class="align-center" height="10px">
                          <p class="font-13 my-0 bold pl-2">{{job.jobType || 'N/A'}}</p>
                        </div>
                        <div class="iconCont ml-5">
                          <i class="fas fa-map-marker-alt font-14 align-center"></i>
                          <p class="font-13 my-0 bold pl-2">{{job.preferredLocation || 'N/A'}}</p>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3 pr-0">
                      <p class="text1 bold font-13 text-right">Posted : {{job.timestamp | date: 'mediumDate'}}</p>
                    </div>
                    <!-- <i class="far fa-heart wishIcon"></i> -->
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
<app-footer></app-footer>